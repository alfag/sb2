<!-- Modern Age Verification Modal con Tailwind - Ottimizzato per mobile -->
<div id="disclaimer-modal" class="fixed inset-0 z-[2147483647] flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-xl p-3 sm:p-4 overflow-y-auto" role="dialog" aria-labelledby="disclaimer-title" aria-describedby="disclaimer-desc" aria-modal="true">
    <div class="absolute inset-0 bg-black bg-opacity-98 backdrop-blur-3xl"></div>
    <div class="relative z-10 w-full max-w-lg mx-auto bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden animate-modal-slide-in my-auto">
        <!-- Modal Header - Compatto per mobile -->
        <div class="px-4 sm:px-8 py-4 sm:py-6 text-white text-center relative overflow-hidden" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%);">
            <div class="w-12 h-12 sm:w-16 sm:h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-4 backdrop-blur-md">
                <svg class="w-7 h-7 sm:w-10 sm:h-10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 3H20V5L19 6V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6L4 5V3ZM7 7V19H17V7H7ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z" fill="currentColor"/>
                </svg>
            </div>
            <h1 id="disclaimer-title" class="text-xl sm:text-2xl font-bold mb-1">Verifica dell'EtÃ </h1>
            <p class="text-sm sm:text-base opacity-90 font-medium">Accesso riservato ai maggiorenni</p>
        </div>

        <!-- Modal Body - PiÃ¹ compatto -->
        <div class="p-4 sm:p-6">
            <div id="disclaimer-desc">
                <div class="flex items-start gap-3 p-4 bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl border-l-4 border-amber-500 mb-4">
                    <div class="flex-shrink-0 w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-white">
                            <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM11 7H13V9H11V7ZM11 11H13V17H11V11Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <h3 class="text-base sm:text-lg font-semibold text-gray-900 mb-1">EtÃ  Minima: 18 Anni</h3>
                        <p class="text-gray-700 text-xs sm:text-sm leading-relaxed">Confermo di avere <strong>almeno 18 anni</strong> e di poter accedere a contenuti relativi a <strong>bevande alcoliche</strong> secondo la normativa del mio Stato di residenza.</p>
                    </div>
                </div>

                <div class="flex flex-wrap gap-2 sm:gap-3 justify-center">
                    <div class="flex items-center gap-1.5 text-xs sm:text-sm text-gray-600">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-amber-500">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
                        </svg>
                        <span>Recensioni birre</span>
                    </div>
                    <div class="flex items-center gap-1.5 text-xs sm:text-sm text-gray-600">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-green-500">
                            <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z" fill="currentColor"/>
                        </svg>
                        <span>Community</span>
                    </div>
                    <div class="flex items-center gap-1.5 text-xs sm:text-sm text-gray-600">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-blue-500">
                            <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V6.5C15 7.3 14.3 8 13.5 8H10.5C9.7 8 9 7.3 9 6.5V5.5L3 7V9H21ZM18 10H6C4.9 10 4 10.9 4 12V22H7V19H17V22H20V12C20 10.9 19.1 10 18 10Z" fill="currentColor"/>
                        </svg>
                        <span>Birrifici artigianali</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Footer - Compatto -->
        <div class="px-4 sm:px-6 py-4 bg-gray-50 border-t border-gray-200">
            <button id="accept-disclaimer" class="relative w-full inline-flex items-center justify-center gap-2 px-4 py-3 sm:py-4 text-white font-semibold text-sm sm:text-base rounded-xl transform hover:-translate-y-0.5 hover:shadow-xl transition-all duration-300 overflow-hidden" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%);" aria-label="Conferma di essere maggiorenne">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="currentColor"/>
                </svg>
                <span>Confermo di essere maggiorenne</span>
                <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-30 -translate-x-full animate-shimmer"></div>
            </button>
        </div>
    </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', function() {
    // SIMPLE DISCLAIMER SYSTEM
    const modal = document.getElementById('disclaimer-modal');
    const acceptBtn = document.getElementById('accept-disclaimer');
    
    if (!modal || !acceptBtn) {
        console.error('âŒ Elementi disclaimer non trovati');
        return;
    }
    
    console.log('ðŸŽ‰ Sistema disclaimer semplice inizializzato');
    
    // Simple check - if already accepted, hide modal
    if (sessionStorage.getItem('disclaimerAccepted') === 'true') {
        console.log('âœ… Disclaimer giÃ  accettato - nascondo');
        modal.style.display = 'none';
        return;
    }
    
    console.log('âš ï¸ Mostro disclaimer - sistema semplice');
    
    // Simple acceptance function
    function acceptDisclaimer() {
        console.log('âœ… Accetto disclaimer - sistema semplice');
        
        // Simple POST request
        fetch('/disclaimer', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ accepted: true })
        })
        .then(() => {
            hideModal();
        })
        .catch((error) => {
            console.error('Errore disclaimer:', error);
            // Even if error, hide modal to unblock user
            hideModal();
        });
    }
    
    function hideModal() {
        if (modal) {
            // Simple hide WITHOUT reload - let user browse as guest
            sessionStorage.setItem('disclaimerAccepted', 'true');
            modal.style.display = 'none';
            console.log('âœ… Disclaimer accettato - welcome page pronta (guest mode)');
            // NO reload - rispetta l'autenticazione opzionale
        }
    }
    
    // Simple event binding
    if (acceptBtn) {
        acceptBtn.addEventListener('click', acceptDisclaimer);
        console.log('âœ… Event listener semplice aggiunto');
    }
    
    console.log('âœ… Sistema disclaimer semplice completamente caricato');
});
</script>
<!-- Modern Age Verification Modal con Tailwind -->
<div id="disclaimer-modal" class="fixed inset-0 z-[2147483647] flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-xl" role="dialog" aria-labelledby="disclaimer-title" aria-describedby="disclaimer-desc" aria-modal="true">
    <div class="absolute inset-0 bg-black bg-opacity-98 backdrop-blur-3xl w-screen h-screen min-w-screen min-h-screen"></div>
    <div class="relative z-10 w-full max-w-2xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden animate-modal-slide-in">
        <!-- Modal Header -->
        <div class="px-8 py-6 bg-gradient-to-br from-indigo-500 via-purple-600 to-indigo-700 text-white text-center relative overflow-hidden">
            <div class="w-18 h-18 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z" fill="currentColor"/>
                </svg>
            </div>
            <h1 id="disclaimer-title" class="text-3xl font-bold mb-2">Verifica dell'EtÃ </h1>
            <p class="text-lg opacity-90 font-medium">Accesso riservato ai maggiorenni</p>
        </div>

        <!-- Modal Body -->
        <div class="p-8">
            <div id="disclaimer-desc">
                <div class="flex items-start gap-4 p-6 bg-gradient-to-r from-amber-50 to-amber-100 rounded-2xl border-l-4 border-amber-500 mb-6">
                    <div class="flex-shrink-0 w-9 h-9 bg-amber-500 rounded-full flex items-center justify-center">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-white">
                            <path d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">EtÃ  Minima: 18 Anni</h3>
                        <p class="text-gray-700 text-sm leading-relaxed">Confermo di avere <strong>almeno 18 anni</strong> e di poter accedere a contenuti relativi a <strong>bevande alcoliche</strong> secondo la normativa del mio Stato di residenza.</p>
                    </div>
                </div>

                <div class="flex flex-wrap gap-4">
                    <div class="flex items-center gap-2 text-sm text-gray-600">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-amber-500">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
                        </svg>
                        <span>Recensioni AI-powered</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm text-gray-600">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-green-500">
                            <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z" fill="currentColor"/>
                        </svg>
                        <span>Community di appassionati</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm text-gray-600">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-blue-500">
                            <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 5.5V6.5C15 7.3 14.3 8 13.5 8H10.5C9.7 8 9 7.3 9 6.5V5.5L3 7V9H21ZM18 10H6C4.9 10 4 10.9 4 12V22H7V19H17V22H20V12C20 10.9 19.1 10 18 10Z" fill="currentColor"/>
                        </svg>
                        <span>Birrifici artigianali</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Footer -->
        <div class="px-8 py-6 bg-gray-50 border-t border-gray-200">
            <button id="accept-disclaimer" class="relative w-full inline-flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold text-lg rounded-xl hover:from-blue-700 hover:to-blue-800 transform hover:-translate-y-1 hover:shadow-2xl transition-all duration-300 overflow-hidden" aria-label="Conferma di essere maggiorenne">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="currentColor"/>
                </svg>
                <span>Confermo di essere maggiorenne</span>
                <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-30 -translate-x-full animate-shimmer"></div>
            </button>
        </div>
    </div>
</div>



<script>
document.addEventListener('DOMContentLoaded', function() {
    // SIMPLE DISCLAIMER SYSTEM
    const modal = document.getElementById('disclaimer-modal');
    const acceptBtn = document.getElementById('accept-disclaimer');
    
    if (!modal || !acceptBtn) {
        console.error('âŒ Elementi disclaimer non trovati');
        return;
    }
    
    console.log('ðŸŽ‰ Sistema disclaimer semplice inizializzato');
    
    // Simple check - if already accepted, hide modal
    if (sessionStorage.getItem('disclaimerAccepted') === 'true') {
        console.log('âœ… Disclaimer giÃ  accettato - nascondo');
        modal.style.display = 'none';
        return;
    }
    
    console.log('âš ï¸ Mostro disclaimer - sistema semplice');
    
    // Simple acceptance function
    function acceptDisclaimer() {
        console.log('âœ… Accetto disclaimer - sistema semplice');
        
        // Simple POST request
        fetch('/disclaimer', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ accepted: true })
        })
        .then(() => {
            hideModal();
        })
        .catch((error) => {
            console.error('Errore disclaimer:', error);
            // Even if error, hide modal to unblock user
            hideModal();
        });
    }
    
    function hideModal() {
        if (modal) {
            // Simple hide and reload
            sessionStorage.setItem('disclaimerAccepted', 'true');
            modal.style.display = 'none';
            console.log('âœ… Disclaimer accettato - reload pagina');
            window.location.reload();
        }
    }
    
    // Simple event binding
    if (acceptBtn) {
        acceptBtn.addEventListener('click', acceptDisclaimer);
        console.log('âœ… Event listener semplice aggiunto');
    }
    
    console.log('âœ… Sistema disclaimer semplice completamente caricato');
});
</script>